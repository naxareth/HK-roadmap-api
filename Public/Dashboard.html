<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document and Submission Tables</title>
    <link rel="stylesheet" href="/assets/css/Dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script>
    </script>
</head>
<body>
    <!-- Princess -->
    <div class="top-nav">
        <h1>HK Roadmap</h1>
        <div class="nav-controls">
            <div class="notifications-container">
                <button class="notification-bell" onclick="toggleNotifPopup()">
                    <i class="fas fa-bell" style="color: black;"></i>
                    <span class="notification-badge" id="notificationBadge">0</span>
                </button>
                <div id="notificationPopup" class="notification-popup">
                    <div class="notification-header">
                        <h3>Notifications</h3>
                        <button class="mark-all" onclick="markAllAsRead()">Mark All Read</button>
                    </div>
                    <div class="notification-list" id="notificationList"></div>
                </div>
            </div>
            <div class="profile-container" onclick="toggleProfileMenu()">
                <span class="profile-name" id="profileName">Admin Name</span>
                <div id="profileMenu" class="profile-menu">
                    <button onclick="logout()">Logout</button>
                </div>
                <img src="/assets/images/default-profile.png" class="profile-pic" alt="Profile">
            </div>
        </div>
    </div>
    <div class="container">
        <aside class="sidebar">
            <ul>
                <li><a href="#" onclick="showSection('home')" id="showHomeButton">Home</a></li>
                <li><a href="#" onclick="showSection('announce')" id="showAnnounceButton">Announcement</a></li>
                <li><a href="#" onclick="showSection('admin')" id="showAdminButton">Admin</a></li>
                <li><a href="#" onclick="showSection('profile')" id="showProfileButton">Profile</a></li>
            </ul>
        </aside>
        <main class="content">
            <section id="home-section">
                <header>
                    <h1> Events and Requirements </h1>
                </header>
                <div id="yearSelectorContainer" style="display: none;">
                    <label for="yearSelect" id="yearSelected">Select Year:</label>
                    <select id="yearSelect">
                        <option value="">All Years</option>
                    </select>
                </div>
                <section class="cards" id="event-section" style="display: none;">
                    <button id="event-create" style="display: none;">Create Event</button>
                    <!-- See Javascript -->
                </section>
                <section class="cards" id="requirements-section" style="display: none;">
                    <button id="requirement-create">Create Requirement</button>
                    <!-- See Javascript -->
                </section>
                <section class="cards" id="comment-section" style="display: none;">
                    <div class="comments-header">
                        <h3>Comments</h3>
                    </div>
                    <div id="comments-list" class="cards"></div>
                </section>
                <div style="text-align: center; margin-top: 20px; display: none;" class="backToEventsButton" id="backToEventsButton">
                    <button class="backToEventsBtn" id="backToEventsBtn">Back to Events</button>
                </div>
                <div style="text-align: center; margin-top: 20px; display: none;" class="backToRequirements" id="backtoRequirements">
                    <button class="backToReqBtn" id="backToReqBtn">Back to Requirements</button>
                </div>
            </section>
            <section id="admin-section" class="admin-container">
                <div class="tab-container">
                    <button class="tab-button" onclick="showTab('documents')">Documents</button>
                    <button class="tab-button" onclick="showTab('submissions')">Submissions</button>
                    <button class="tab-button" onclick="showTab('students')">Students</button>
                    <button class="tab-button" onclick="showTab('admins')">Admin</button>
                </div>
                <div id="documents" class="tab-content">
                    <h2>Documents Table</h2>
                    <table id="documentsTable">
                        <!-- Table headers -->
                        <thead>
                            <tr>
                                <th>Document ID</th>
                                <th>Event ID</th>
                                <th>Requirement ID</th>
                                <th>Student ID</th>
                                <th>File Path</th>
                                <th>Upload Date</th>
                                <th>Status</th>
                                <th>Is Submitted</th>
                                <th>Submitted At</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Data will be populated here -->
                        </tbody>
                    </table>
                </div>
            
                <div id="submissions" class="tab-content" style="display: none;">
                    <h2>Submissions Table</h2>
                    <div id="searchContainer">
                        <input type="text" id="searchInput" placeholder="Search by any field...">
                    </div>
                    <table id="submissionsTable">
                        <!-- Table headers -->
                        <thead>
                            <tr>
                                <th>Event</th>
                                <th>Requirement</th>
                                <th>Student</th>
                                <th>Date</th>
                                <th>Status</th>
                                <th>View</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Data will be populated here -->
                        </tbody>
                    </table>
                </div>

                <div id="students" class="tab-content" style="display: none;">
                    <h2>Student Table</h2>
                    <table id="studentsTable">
                        <!-- Table headers -->
                        <thead>
                            <tr>
                                <th>Student ID</th>
                                <th>Email</th>
                                <th>Password</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Data will be populated here -->
                        </tbody>
                    </table>
                </div>

                <div id="admins" class="tab-content" style="display: none;">
                    <h2>Admin Table</h2>
                    <table id="adminsTable">
                        <!-- Table headers -->
                        <thead>
                            <tr>
                                <th>Admin ID</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Password</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Data will be populated here -->
                        </tbody>
                    </table>
                </div>                            
            </section>

            <section id="announce-section" class="announcement-container" style="display: none;">
                <div class="announcement-header">
                    <h2>Announcements</h2>
                </div>
                
                <div class="background-form">
                    <form id="announcementForm">
                        <input type="hidden" id="announcementId">
                        <input type="text" id="announcementTitle" placeholder="Announcement Title" required>
                        <textarea id="announcementContent" placeholder="Announcement Content" required></textarea>
                        <button type="submit">Post Announcement</button>
                    </form>
                </div>

                <div class="announcement-header">
                    <h2>Previous Annoucements</h2>
                </div>
                
                <div id="announcementContainer" class="announcement-cards">
                    <!-- Announcements will be inserted here -->
                </div>
            </section>
            <div id="profile-section" class="profile-container">
                <h2>Profile Information</h2>
                <form id="profileForm">
                    <div class="form-group">
                        <label for="adminName">Name:</label>
                        <input type="text" id="adminName" name="name" disabled>
                    </div>
                    <div class="form-group">
                        <label for="adminEmail">Email:</label>
                        <input type="email" id="adminEmail" name="email" disabled>
                    </div>
                    <div class="form-group">
                        <label for="adminDepartment">Department:</label>
                        <input type="text" id="adminDepartment" name="department" disabled>
                    </div>
                    <div class="form-group">
                        <label for="adminPosition">Position:</label>
                        <input type="text" id="adminPosition" name="position" disabled>
                    </div>
                    <div class="form-group">
                        <label for="adminContact">Contact Number:</label>
                        <input type="text" id="adminContact" name="contact_number" disabled>
                    </div>
                    <div class="form-group">
                        <label for="adminProfilePicture">Profile Picture:</label>
                        <img id="adminProfilePicture" src="" alt="Profile Picture" class="profile-picture">
                    </div>
                    <button type="button" id="editProfileButton">Edit</button>
                    <button type="button" id="saveProfileButton" style="display:none;">Save</button>
                </form>
            </div>

            <div id="eventPopup" class="popup" style="display: none;">
                <span class="close-popup" onclick="toggleEventPopup()">×</span>
                <div class="popup-header">Event Form</div>
                <input type="hidden" id="eventId" value="">
                <label for="eventName">Event Name:</label>
                <input type="text" id="eventName" required>
                <label for="eventDate">Event Date:</label>
                <input type="date" id="eventDate" required>
                <button class="popup-button" onclick="saveEvent()">Save Event</button>
            </div>
            
            <div id="requirementPopup" class="popup" style="display: none;">
                <span class="close-popup" onclick="toggleRequirementPopup()">×</span>
                <div class="popup-header">Requirement Form</div>
                <input type="hidden" id="eventId" value="">
                <input type="hidden" id="requirementId">
                <label for="requirementName">Requirement Name:</label>
                <input type="text" id="requirementName" required>
                <label for="requirementDescription">Requirement Description:</label>
                <input type="text" id="requirementDescription" required>
                <label for="dueDate">Due Date:</label>
                <input type="date" id="dueDate" required>
                <button class="popup-button" onclick="saveRequirement()">Save Requirement</button>
            </div>

            <div id="editAnnouncementPopup" class="announcePopup" style="display: none;">
                <span class="close-popup" onclick="toggleEditAnnouncementPopup()">×</span>
                <div class="popup-header">Edit Announcement</div>
                <form id="editAnnouncementForm">
                    <input type="hidden" id="editAnnouncementId">
                    <input type="text" id="editAnnouncementTitle" placeholder="Announcement Title" required>
                    <textarea id="editAnnouncementContent" placeholder="Announcement Content" required></textarea>
                    <button type="submit">Update Announcement</button>
                </form>
            </div>

            <div id="documentPopup" class="popup" style="display: none;">
                <span class="close-popup" onclick="closeDocumentPopup()">×</span>
                <div class="popup-content">
                    <div id="documentDetails">
                        <!-- See Javascript -->
                    </div>
                    <div class="action-buttons">
                        <button id="approveButton" class="approve-btn" onclick="approveAllDocuments()">Approve All</button>
                        <button id="rejectButton" class="reject-btn" onclick="rejectAllDocuments()">Reject All</button>
                    </div>
                </div>
            </div>

            <div id="editCommentModal" class="popup" style="display: none;">
                <span class="close-popup" onclick="closeEditModal()">&times;</span>
                <div class="popup-content">
                    <h3>Edit Comment</h3>
                    <textarea id="editCommentText" rows="4"></textarea>
                    <div class="action-buttons">
                        <button onclick="submitCommentEdit()">Save Changes</button>
                        <button onclick="closeEditModal()">Cancel</button>
                    </div>
                </div>
            </div>

        </main>
    </div>
    <script src="/assets/js/Dashboard.js"></script>
</body>
</html>